version: '3'

tasks:
  setup:
    desc: Create a Python virtual environment
    cmds:
      - uv venv

  install:
    desc: Install the package in development mode
    deps: [setup]
    cmds:
      - uv pip install -e ".[dev]"

  format:
    desc: Format code using ruff
    cmds:
      - .venv/bin/ruff format src tests

  check:
    desc: Check and auto-fix code using ruff
    cmds:
      - .venv/bin/ruff check --fix src tests

  test:
    desc: Run tests
    cmds:
      - .venv/bin/pytest tests

  run:
    desc: Run the application
    cmds:
      - .venv/bin/python -m time_mcp_server.main
